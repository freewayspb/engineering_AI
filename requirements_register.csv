Req_ID,Category,Name,Description,Source_File,Section_Path,Related_Artifacts
BR-001,BR,Создание интеллектуальной системы обучения,"**Описание**: Разработать систему, которая ""учится"" на корпоративных документах и накапливает знания
**Роли**: Учитель системы; Пользователь системы (подроли: инженер/проектировщик, ПТО, сметный отдел, юр. отдел) с различными уровнями доступа к документам (ACL по проектам и типам документов).
**Обоснование**: Основа для всех последующих функций системы
**Критерии приемки**:
- Система может изучать загруженные документы
- Система накапливает знания о проектах и технических решениях
- Система может отвечать на текстовые запросы пользователей
- Система работает в проектно-ориентированном контексте
**Трассировка**: UC‑01, UC‑11 ↔ FR‑LEARN‑01..04, FR‑ACCESS‑01..05",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → КРИТИЧЕСКИЙ ПРИОРИТЕТ (Must Have) → BR-001: Создание интеллектуальной системы обучения,-
BR-002,BR,Обработка текстовых запросов пользователей,"**Описание**: Обеспечить возможность делать естественные текстовые запросы на русском языке; система понимает проектный контекст и формирует структурированные ответы.
**Форматы ответа**: Excel (основной), JSON/CSV (для интеграций).
**Типы запросов**: поиск фактов, извлечение таблиц/реквизитов, агрегаты по проекту.
**Авто‑словарь**: по мере обучения система формирует и пополняет словарь проектных сущностей и синонимов (например, «козырёк» ↔ «навес») для повышения качества понимания запросов.
**Обоснование**: Основной интерфейс взаимодействия с системой (оперативные ответы для принятия решений).
**Критерии приемки**:
- Пользователи могут делать запросы типа ""вытащи данные про козырек""
- Система понимает контекст проектов в запросах
- Система формирует структурированные ответы (Excel/JSON/CSV)
- Оперативные ответы для пользователей (точные значения времени — см. SRS NFR‑PERF‑01)
**Трассировка**: UC‑02, UC‑12 ↔ FR‑QUERY‑01..04, FR‑EXCEL‑01..03, FR‑DAT‑02, FR‑KNOW‑01..02",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → КРИТИЧЕСКИЙ ПРИОРИТЕТ (Must Have) → BR-002: Обработка текстовых запросов пользователей,-
BR-003,BR,Проектно-ориентированная работа с данными,"**Описание**: Обеспечить привязку всех данных к конкретным проектам и работу в проектном контексте (извлечения/отчёты/комплекты РД/поиск аналогов).
**Атрибуты проекта (минимум)**: projectId, projectName, designStage, rdCipher; при необходимости расширяется (тип объекта, материалы, локация).
**Типизация проектов**: система поддерживает типы объектов (например, подстанция, козырёк и т.п.) для лучшего поиска аналогов.
**Поиск аналогов**: явная поддержка поиска похожих проектов с критериями сходства (тип объекта, стадия, материалы).
**Форматы выгрузок**: Excel (основной), JSON/CSV (для интеграций) — «ведомость объёмов», «комплект РД», другие проектные отчёты.
**Межпроектные права доступа**: видимость и операции ограничены ролями и проектной принадлежностью (доступ только к своим проектам по ACL).
**Обоснование**: Критично для поиска аналогов и извлечения данных по проектам
**Критерии приемки**:
- Все документы привязаны к конкретным проектам (подстанция, козырек и т.д.)
- Система может извлекать ведомости объемов работ по проекту
- Система может формировать комплекты рабочей документации по проекту
- Система поддерживает поиск аналогов по проектам с критериями (тип/стадия/материалы)
- Экспорт отчётов доступен в Excel/JSON/CSV
**Трассировка**: UC‑03, UC‑11, UC‑13 ↔ FR‑PROJECT‑01..04, FR‑DAT‑02/‑08, FR‑ACCESS‑01..05, FR‑EXCEL‑01..03",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → КРИТИЧЕСКИЙ ПРИОРИТЕТ (Must Have) → BR-003: Проектно-ориентированная работа с данными,-
BR-005,BR,Извлечение данных из документов (OCR),"**Описание**: Обеспечить автоматическое извлечение текста и данных из документов, включая машиночитаемые файлы и скан-образы.
**Поддерживаемые форматы**: PDF (в том числе многостраничные и со встроенным текстом), изображения (JPG/PNG/TIFF), DWG, ARP, GSFX, XML, RTF/DOCX, XLS/XLSX.
**Типы источников**: машиночитаемые документы и скан‑образы (различные уровни качества и разрешения).
**Обоснование**: Необходимо для обучения системы и обработки запросов
**Критерии качества распознавания**:
- Точность извлечения текста на образцах заказчика не ниже согласованного порога для русского языка и технических терминов
- Корректное извлечение табличных структур (границы, объединения ячеек, типы данных, заголовки)
- Выделение основных реквизитов/метаданных документов (номера, даты, шифры проектов)
- Базовая обработка инженерных чертежей/схем (слои/тексты/штамп, извлечение ключевых атрибутов)
**Критерии приемки**:
- Создан прототип OCR/парсинга для заявленных форматов
- Проведены тесты качества распознавания на репрезентативных образцах заказчика
- Определены ограничения и граничные случаи; задокументированы рекомендации по улучшению качества
- Описаны рекомендации по выбору OCR/парсеров и предобработке (дешум, поворот, бинаризация)
**Трассировка**: UC‑04, UC‑05 ↔ FR‑OCR‑01..06, FR‑PARSER‑01..05, FR‑DAT‑02/‑05",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → ВЫСОКИЙ ПРИОРИТЕТ (Should Have) → BR-005: Извлечение данных из документов (OCR),-
BR-006,BR,Формирование отчетов в Excel,"**Описание**: Обеспечить создание структурированных Excel‑отчетов по запросам пользователей, включая поддержку многолистовых книг и типов отчетов: табличные и сводные (pivot).
**Обоснование**: Основной выходной формат для структурированных данных (оперативная генерация)
**Критерии приемки**:
- Система формирует многолистовые книги Excel по текстовым запросам (несколько вкладок при необходимости)
- Поддерживаются табличные отчеты и сводные таблицы (pivot), включая базовые диаграммы при наличии шаблона
- Корректное структурирование данных (заголовки, типы столбцов, группировка, итоги)
- Валидация типов данных (дата, число, валюта/единицы), корректные форматы отображения
- Соответствие заранее определенному шаблону оформления (стили, шапка/подвал, параметры печати) при его использовании
**Трассировка**: UC‑06, UC‑12 ↔ FR‑EXCEL‑01..03, FR‑QUERY‑01..04, FR‑DAT‑02; см. NFR‑PERF‑01 (оперативность)",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → ВЫСОКИЙ ПРИОРИТЕТ (Should Have) → BR-006: Формирование отчетов в Excel,-
BR-007,BR,Работа с нормативной базой (ГОСТы),"**Описание**: Обеспечить изучение, структурирование и использование нормативных документов для валидации данных и проверок.
**Источники и форматы**: ГОСТ, СП, СНиП, ТУ, РД; форматы: PDF/DOCX/HTML.
**Версионирование и актуализация**: хранить редакции и номера изменений; вести метаданные (код, номер, дата, редакция), политика регулярной актуализации и отслеживания изменений.
**Структурированные правила**: извлечённые требования хранить как формализованные правила с условиями/диапазонами и ссылками на конкретные пункты документа.
**Обоснование**: Критично для корректной работы с техническими документами
**Критерии приемки**:
- Корректный парсинг ссылок/пунктов норм и ведение метаданных (код, номер, дата, редакция)
- Ведение версий и журнал актуализации нормативной базы
- Воспроизводимые проверки на основе структурированных правил
- Формирование отчёта о несоответствиях с точными ссылками на пункты
- Поддерживается поиск по нормативным требованиям
**Трассировка**: UC‑07, UC‑08 ↔ FR‑NORM‑01..06, FR‑PARSER‑02, FR‑REPORT‑01..02",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → ВЫСОКИЙ ПРИОРИТЕТ (Should Have) → BR-007: Работа с нормативной базой (ГОСТы),-
BR-008,BR,Обработка специализированных форматов (DWG/сметы),"**Описание**: Обеспечить извлечение структурированных данных из чертежей DWG и сметных документов ARP/GSFX для обучения системы и формирования отчетов.
**Типы извлекаемых данных из DWG**:
- Слои и их содержимое (тексты, размеры, штриховки, блоки)
- Основные реквизиты чертежа (номер, название, масштаб, дата)
- Технические характеристики объектов (материалы, размеры, марки)
- Штампы и подписи (исполнитель, проверяющий, утверждающий)
**Типы извлекаемых данных из смет**:
- Структура сметы (разделы, позиции, ресурсы)
- Стоимостные показатели (единичные цены, объемы, суммы)
- Нормативные ссылки (ГЭСН, ФЕР, территориальные сборники)
- Материалы и оборудование (наименования, единицы измерения, цены)
**Обоснование**: Специфическая потребность бизнеса заказчика для работы с инженерной документацией
**Критерии приемки**:
- Система извлекает структурированные данные из DWG-файлов (слои, тексты, реквизиты)
- Система обрабатывает сметные документы ARP/GSFX (позиции, цены, ресурсы)
- Извлеченные данные корректно структурируются для обучения и отчетности
- Поддерживается экспорт извлеченных данных в Excel/JSON/CSV
**Трассировка**: UC‑04, UC‑05 ↔ FR‑DWG‑01..04, FR‑ESTIMATE‑01..03, FR‑DAT‑02/‑05",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → СРЕДНИЙ ПРИОРИТЕТ (Could Have) → BR-008: Обработка специализированных форматов (DWG/сметы),-
BR-012,BR,Пользовательские интерфейсы,"**Описание**: Разработка UI/UX для конечных пользователей
**Обоснование**: Не входит в объем текущего этапа (только прототипы без UI)
**Статус**: Отложено до этапа разработки производственной системы",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → НИЗКИЙ ПРИОРИТЕТ (Won't Have - в текущем этапе) → BR-012: Пользовательские интерфейсы,-
BR-013,BR,Интеграция с существующими системами,"**Описание**: Реальная интеграция с ERP, CRM и другими корпоративными системами
**Обоснование**: Не входит в объем текущего этапа (только архитектурная проработка)
**Статус**: Отложено до этапа разработки производственной системы",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2. Бизнес-требования по приоритетам → НИЗКИЙ ПРИОРИТЕТ (Won't Have - в текущем этапе) → BR-013: Интеграция с существующими системами,-
BR-014,BR,Извлечение реквизитов из главного штампа (PDF/DWG),"**Описание**: Система извлекает реквизиты из главного штампа (title, cipher, sheetNumber, documentName, sheetFormat, designStage, organization, documentDate, revisionNumber) для PDF (МЧ/СО) и DWG.
**Роли/подразделения**: Инженер, ПТО
**Бизнес‑цели**: Формирование сводной спецификации; унификация спецификаций; подготовка к бюджетированию.
**Выход**: XLS по шаблону ПТО.
**Роли/ACL**: доступ к запуску — Пользователь (по роли/ACL проекта); доступ к результатам — по ACL проекта.
**Ошибки/исключения**: отсутствующие/некорректные поля штампа; низкая уверенность (< threshold) — помечать для ручной проверки; неподдерживаемая разметка штампа.
**Трассировка**: UC‑04, UC‑05 ↔ FR‑STAMP‑01..03, FR‑DAT‑02/‑05
**Статус зрелости**: Draft (awaits prototype confirmation)",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2.2 Дополнительные бизнес‑требования из входных документов (1–8) → BR-014: Извлечение реквизитов из главного штампа (PDF/DWG),-
BR-015,BR,Табличное содержание спецификаций (PDF/DWG),"**Описание**: Автоматическое извлечение табличного содержания спецификаций (PDF/DWG), включая расчетные формулы (где применимо), с валидацией извлеченных данных и обработкой ошибок.
**Типы таблиц**: материалы, оборудование, работы/операции, ведомости спецификаций (позиции, количества, единицы, примечания).
**Роли/подразделения**: Инженер, ПТО
**Бизнес‑цели**: Сводные спецификации по проектам; унификация.
**Выход**: XLS.
**Валидация данных**: проверка корректности формул и пересчётов; контроль обязательных полей (наименование, единица измерения, количество, цена/стоимость где применимо); проверка согласованности итогов.
**Роли/ACL**: запуск — Пользователь (по ACL проекта); просмотр результатов — по ACL проекта.
**Ошибки/исключения**: некорректные структуры таблиц/объединения ячеек; несоответствие форматов чисел; расхождение итогов — выдавать отчёт с указанием строк/ячеек.
**Трассировка**: UC‑04, UC‑05 ↔ FR‑TABLE‑01..04, FR‑FORMULA‑01..02, FR‑DAT‑02/‑05
**Статус зрелости**: Draft (awaits prototype confirmation)",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2.2 Дополнительные бизнес‑требования из входных документов (1–8) → BR-015: Табличное содержание спецификаций (PDF/DWG),-
BR-016,BR,Нормализация смет (ARP/GSFX/XML/XLS),"**Описание**: Парсинг сметных документов в единую модель Estimate с привязкой к шифру РД; валидация totals/единиц/обязательных полей; сохранение формул (если доступны); поддержка конвертации форматов туда/обратно для интеграции с внешними системами; обработка ошибок.
**Суть модели Estimate**: разделы → позиции → ресурсы; для каждой позиции: наименование, единица измерения, количество, единичная цена, сумма; ссылки на нормы (ГЭСН/ФЕР/ТСН), коэффициенты/надбавки; для ресурсов: тип, количество, цена.
**Роли/подразделения**: Инженер‑сметчик, Сметный отдел
**Бизнес‑цели**: Анализ и корректировка смет; формирование бюджета.
**Выход**: Нормализованный JSON + XLS; экспорт/импорт в ARP/GSFX/XML/XLS для интеграций (где применимо).
**Правила валидации**: сверка подсумм и итогов по разделам/всей смете; проверка обязательных полей; единообразие и сопоставимость единиц измерения; допустимые диапазоны значений; сверка формул и результатов пересчётов.
**Роли/ACL**: запуск — Пользователь (сметчик) по ACL проекта; доступ к выгрузкам — по ACL отдела.
**Ошибки/исключения**: несовместимые версии форматов; отсутствие критических полей; расхождение totals — формировать отчёт с детализацией и кодами ошибок.
**Трассировка**: UC‑05, UC‑12 ↔ FR‑ESTIMATE‑01..06, FR‑DAT‑02/‑05, FR‑VALID‑01..03
**Статус зрелости**: Draft (awaits prototype confirmation)",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2.2 Дополнительные бизнес‑требования из входных документов (1–8) → BR-016: Нормализация смет (ARP/GSFX/XML/XLS),-
BR-017,BR,Выжимки из нормативных документов (DOCX → PDF),"**Описание**: Извлечение реквизитов нормативных документов (наименование, номер, дата утверждения) и формирование выжимок по запросу; экспорт в PDF по шаблону; обработка ошибок ссылок и отсутствующих метаданных.
**Состав выжимки**: заголовок документа; редакция/дата/номер; перечень релевантных разделов/пунктов; выдержки текста по запросу; ссылки на пункты и источник.
**Шаблоны PDF**: шапка/подвал, нумерация страниц, оглавление (при необходимости), оформление по стандарту заказчика.
**Валидация**: проверка корректности ссылок на пункты; наличие и корректность метаданных (код, номер, дата, редакция); соответствие шаблону оформления.
**Роли/подразделения**: Юрист, Юр. отдел
**Бизнес‑цели**: Работа с нормативными документами; подготовка сопутствующих документов.
**Выход**: PDF + ссылки на источники.
**Трассировка**: UC‑07, UC‑08 ↔ FR‑NORM‑EXTRACT‑01..03, FR‑REPORT‑01..02
**Роли/ACL**: запуск — Пользователь (Юр. отдел); просмотр/экспорт — по ACL отдела; ограничения на распространение вне периметра.
**Ошибки/исключения**: недоступные/повреждённые источники; отсутствующие пункты; неоднозначные ссылки — помечать и включать в отчёт.
**Статус зрелости**: Draft (awaits prototype confirmation)",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2.2 Дополнительные бизнес‑требования из входных документов (1–8) → BR-017: Выжимки из нормативных документов (DOCX → PDF),-
BR-018,BR,Отчёты по шаблонам подразделений (XLSX),"**Описание**: Генерация Excel‑отчетов по утвержденным шаблонам подразделений (ПТО, Сметный отдел) с проверкой структуры и форматирования; поддержка многолистовых книг и автозаполнения полей шапки (projectName, designStage, rdCipher); обработка ошибок соответствия шаблону.
**Реестр шаблонов**: каталог шаблонов с версиями, владельцем, датой утверждения и областью применения; валидация соответствия версии шаблона.
**Роли/подразделения**: ПТО, Сметный отдел
**Бизнес‑цели**: Сводки, анализ, бюджетирование.
**Вход/Выход**: Вход — данные из системы; Выход — XLSX, соответствующий активной версии шаблона.
**Валидация**: структура листов и имен; стили и форматирование; типы данных/форматы; обязательные поля; корректность формул; диапазоны печати и параметры страницы.
**Критерии приемки**:
- Формирование отчётов, полностью соответствующих активной версии шаблона
- Автозаполнение полей шапки проекта
- Поддержка многолистовых отчётов и ссылок между листами
- Валидация структуры/стилей/типов данных/формул/печати проходит без ошибок
**Трассировка**: UC‑06, UC‑12 ↔ FR‑EXCEL‑TPL‑01..04, FR‑DAT‑02, FR‑FORMULA‑01..02
**Роли/ACL**: запуск — Пользователь по ACL проекта; публикация/распространение — по политике подразделения.
**Ошибки/исключения**: несоответствие шаблону (листы/стили/формулы) — формировать отчёт с перечнем нарушений и рекомендациями.
**Статус зрелости**: Draft (awaits prototype confirmation)",business-requirements.md,business-requirements.md → Business Requirements Document (BRD) - Проект AI GOST → 2.2 Дополнительные бизнес‑требования из входных документов (1–8) → BR-018: Отчёты по шаблонам подразделений (XLSX),-
FR-QUERY-01,FR,Приём текстовых запросов,"**Контекст**: пользовательские запросы на русском. **Возможности**: ACL/тип list/detail/aggregate, мета requestId/projectId/filters/responseType, трассировка. **Acceptance**: ACL-проверка, валидная мета, запросы логируются для последующей обработки.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-OCR-01,FR,Распознавание текста из PDF и изображений для обучения системы,Распознавание текста из PDF и изображений для обучения системы.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-NORMS-01,FR,Загрузка и разбор нормативных документов,"**Контекст**: ГОСТ/СП/СНиП/ТУ/РД в PDF/DOCX/HTML. **Возможности**: определение типа/формата, извлечение текста/структуры и метаданных, структурирование требований/правил со ссылками, подготовка артефактов. **Acceptance**: контрольные нормативы ≤ 30 сек/док, метаданные заполнены, требования со ссылками, артефакты совместимы с FR-NORMS-02.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-DAT-01,FR,Автоопределение типа документа (pdf/image/dwg/smeta_arp/smeta_gsfx/normative/unknown),Автоопределение типа документа (pdf/image/dwg/smeta_arp/smeta_gsfx/normative/unknown).,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-LOG-01,FR,"Единый формат лога обработки: {timestamp, level, code, message, documentId, inputPath, outputPath, stage, details}","Единый формат лога обработки: {timestamp, level, code, message, documentId, inputPath, outputPath, stage, details}.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-ART-01,FR,Формирование набора артефактов для демонстраций (JSON/XLSX/логи) с ссылками для воспроизводимости,Формирование набора артефактов для демонстраций (JSON/XLSX/логи) с ссылками для воспроизводимости.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-KNOW-01,FR,Переносимый контекст обучения,Контекст хранится по projectId в базе знаний, экспортируется через API пакетами JSON и может подписываться другими проектами.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.9 Управление знаниями и обновлениями
FR-KNOW-02,FR,Процедура миграции знаний,Формирует diff, запускает smoke-тест, требует ручного подтверждения и создаёт rollback-пакет.,technical-requirements.md
FR-KNOW-03,FR,Ручная проверка обновлений нормативной базы,Администратор вручную запускает проверку локальных каталогов, система сравнивает версии и формирует diff-отчёт с предложением обновить.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.9 Управление знаниями и обновлениями
FR-KNOW-04,FR,Логирование обновлений нормативных данных,Сохраняет источники и версии успешных обновлений, а ошибки собирает в отдельном отчёте incidents.json.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.9 Управление знаниями и обновлениями
FR-KNOW-05,FR,Двусторонний API для внешних систем,REST API с токенами: внешние системы получают знания и отправляют комментарии/актуализации; поддержаны webhooks.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.9 Управление знаниями и обновлениями,BR-003
FR-QUERY-02,FR,Понимание контекста запроса,"**Контекст**: NLU проектных запросов. **Возможности**: парсинг сущностей проект/документ/операция, связь с артефактами и пресетами, обогащение словарём. **Acceptance**: точность маппинга ≥0.9 на контрольных, parseResult с сущностями/confidence, связи логируются.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-PROJECT-02,FR,Поиск аналогов по проектам,"**Контекст**: сходство проектов. **Возможности**: индекс признаков, поиск аналогов с артефактами/метаданными, учёт ACL/релевантности. **Acceptance**: аналоги возвращаются с признаками сходства и ACL; ранжирование зафиксировано; готовность к запуску задач.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-OCR-02,FR,Улучшенная обработка сложных сканов,"Компактное описание: повышает читаемость низкокачественных сканов, выделяет штампы и распознает рукописные элементы. Acceptance: прирост PSNR/SSIM ≥20%, штампы локализуются с точностью ≥95%, рукописный текст распознается с точностью ≥85%.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.4 Извлечение данных из документов (OCR),FR-OCR-01B
FR-EXCEL-02,FR,Форматирование Excel по корпоративным стилям,"**Контекст**: автоформат Excel-книг по корпоративным стилям. **Возможности**: стили заголовков/данных/итогов, корпоративная палитра, условное форматирование, автоширина/чередование. **Acceptance**: стили применены ко всем листам, числовые поля отформатированы; условное форматирование подсвечивает отклонения; форматирование завершается ≤ 30 сек и проходит проверку шаблонов.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-NORMS-02,FR,База знаний по нормативам,"**Контекст**: структурированная база требований/правил. **Возможности**: категории/иерархия/связи/версионирование, хранение числовых/процедурных/ссылочных данных, индекс для поиска/фильтрации. **Acceptance**: база с категориями/связями/версиями, индекс готов; типы знаний со ссылками; обновления версионируются и доступны FR-NORMS-03..04.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-DAT-02,FR,"Хранение метаданных (имя файла, MIME, язык, страницы, дата загрузки, проект)","Хранение метаданных (имя файла, MIME, язык, страницы, дата загрузки, проект).",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-LOG-02,FR,Сохранение артефактов обработки (metadata/titleBlock/tables/estimate) в предсказуемой структуре каталогов,Сохранение артефактов обработки (metadata/titleBlock/tables/estimate) в предсказуемой структуре каталогов.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-ACCESS-01,FR,Ролевое управление доступом,Teacher управляет обучением и задачами; User может запускать запросы, а дополнительные права выдаются точечно по проектам с аудитом.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.8 Управление доступом и ролевая модель
FR-ACCESS-02,FR,Контроль доступа Teacher к обучению,Teacher запускает обучение только по проектам с доступом; требуется approval администратора; загрузки доступны Teacher и уполномоченным User.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.8 Управление доступом и ролевая модель,BR-003
FR-ACCESS-03,FR,Контроль запросов пользователей,User видит и запускает запросы только по проектам из ACL; нарушения блокируются и логируются.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.8 Управление доступом и ролевая модель,BR-003
FR-ACCESS-04,FR,Аудит действий Teacher/User,Логирует каждое действие с userId/role/projectId и хранит ≥12 месяцев; Teacher видит только свои проекты, администратор — всё.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.8 Управление доступом и ролевая модель
FR-ACCESS-05,FR,Ручное управление правами администратора,Администратор назначает/отзывает роли и проектные привилегии вручную, фиксируя причину, изменения применяются сразу и логируются.,technical-requirements.md
FR-LEARN-03,FR,Версионирование знаний,"Компактное описание: создает версии знаний с provenance, позволяет rollback и пометку Reference. Обучение: фиксирует changeSummary для анализа улучшений. Acceptance: API create/list/get/rollback/markReference работает, версия содержит ссылки на артефакты, rollback создает новую запись с причиной.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.1 Обучение системы на документах,FR-LEARN-02
FR-QUERY-03,FR,Поиск в базе знаний,"**Контекст**: ретривинг артефактов. **Возможности**: поиск по text/tables/metadata с scores/trace, фильтры, агрегаты. **Acceptance**: релевантные артефакты со score/confidence, учёт projectId/ACL, trace до источников сохранён.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-PROJECT-03,FR,Извлечение данных в проектном контексте,"**Контекст**: работа с артефактами проекта. **Возможности**: извлечение titleBlock/tables/estimate с фильтрами, trace и метаданными. **Acceptance**: артефакты с projectId/rdCipher; фильтры корректны; trace сохранён; схемы валидированы.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-OCR-03,FR,Поддержка русского языка в OCR,"**Контекст**: русский язык во всех OCR пайплайнах. **Возможности**: модели с кириллицей и техтерминами ГОСТ/СП/СНиП; словари и контекстная коррекция; поддержка русских дат/чисел/единиц. **Acceptance**: CER ≤ 3%, WER ≤ 8%; техтермины распознаются корректно; форматы дат/чисел корректны; время обработки ≤ 30 сек/док.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-EXCEL-03,FR,Экспорт данных в XLSX/XLS/CSV,"**Контекст**: выгрузка результатов в XLSX/XLS/CSV. **Возможности**: выбор формата/имени/пути/кодировки (CSV); сохранение таблиц, метаданных, ссылок. **Acceptance**: контрольные наборы экспортируются без потерь, файлы открываются корректно; CSV в выбранной кодировке без искажений; экспорт ≤ 30 сек, лог содержит формат и путь.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-NORMS-03,FR,Валидация данных по нормативам,"**Контекст**: проверка проектных данных. **Возможности**: сверка числовых значений, процедурных правил и ссылочных данных; отчёт с нарушениями/критичностью/ссылками; авто-валидация в сценариях проекта. **Acceptance**: контрольный набор выявляет нарушения; отчёт со ссылкой на пункт и рекомендацией; проверка ≤ 30 сек, интеграция с базой знаний.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-DAT-03,FR,Логирование шагов обработки и обучения (pipeline),Логирование шагов обработки и обучения (pipeline).,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-LEARN-04,FR,Контроль качества знаний,"Компактное описание: проверяет дубликаты, ошибки парсинга и полноту перед публикацией версии. Acceptance: qualityReport.json/.md формируется, blockPublish выставляется для ошибок, логи содержат requestId и решения.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.1 Обучение системы на документах,FR-LEARN-03
Связанные UC: UC-01," UC-11""",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,"UC-01, UC-11",,
FR-QUERY-04,FR,Формирование ответа,"**Контекст**: сборка Excel/JSON/CSV. **Возможности**: items/aggregates + meta, генерация Excel по шаблону или JSON/CSV, warnings/next steps. **Acceptance**: ответ ≤30 сек, структура по шаблону/схеме, артефакты/trace включены, валидация Excel/JSON/CSV пройдена.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,"UC-02, UC-12"
FR-PROJECT-04,FR,Формирование проектных отчётов,"**Контекст**: отчёты по РД/сводкам/бюджетам. **Возможности**: сборка по шаблону, ссылки на источники, Excel/JSON/CSV/печать. **Acceptance**: отчёт ≤30 сек, структура по шаблону/схеме, trace/обязательные поля на месте, валидация пройдена.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,"UC-03, UC-13"
FR-OCR-04,FR,Структурирование результатов OCR,"**Контекст**: формирование единого JSON для обучения. **Возможности**: text/tables/metadata/coordinates/confidence/documentStructure, сохранение иерархии и координат; совместимость с FR-LEARN-02 и FR-PROJECT-03. **Acceptance**: документ структурируется ≤ 30 сек; таблицы в JSON/CSV без потери объединений; confidence включён; артефакты соответствуют схемам базы знаний.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-EXCEL-04,FR,Валидация Excel-книг по шаблонам,"**Контекст**: проверка книг против активных шаблонов подразделений. **Возможности**: контроль обязательных листов/названий/областей печати/стилей; проверка типов данных, формул, перекрестных ссылок; отчёт об ошибках с критичностью. **Acceptance**: контрольный отчёт валидируется ≤ 30 сек; протокол фиксирует все найденные проблемы с координатами и уровнями; артефакт validationReport.json сохраняется для активной версии шаблона.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-NORMS-04,FR,Поиск по нормативной базе,"**Контекст**: поиск требований в базе знаний. **Возможности**: текстовый/категорийный/числовой/датовый поиск с семантическим ранжированием; фильтры по типу, категории, диапазонам, датам; выдача со ссылками на источник. **Acceptance**: результаты отсортированы и содержат источники; числовые/датовые фильтры точны; ответ ≤ 5 сек на контрольный набор.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-DAT-04,FR,Версионирование результатов обучения и базы знаний,"Версионирование результатов обучения и базы знаний.

Дополнения:",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-OCR-05,FR,Парсинг штампов PDF/DWG,"**Контекст**: titleBlock из PDF/DWG. **Возможности**: детект области, распознавание полей штампа, проектные шаблоны/валидация, координаты/confidence, артефакт titleBlock.json. **Acceptance**: PDF/DWG ≤30 сек; все поля с координатами/confidence; ошибки помечены; артефакт совместим с FR-STAMP-*.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-EXCEL-05,FR,Отчёты подразделений по активным шаблонам,"**Контекст**: специализированные отчёты ПТО и сметного отдела. **Возможности**: применение активной версии шаблона, контроль обязательных листов/полей/печати; проверка формул и настроек; отчёт о соответствии. **Acceptance**: книги ПТО/сметы создаются ≤ 30 сек; отклонения отражены в отчёте соответствия; формулы/печать валидированы, лог содержит версию шаблона и результат.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,"UC-05, UC-15"
FR-NORM-05,FR,DOCX метаданные и выжимки по запросу,"**Контекст**: DOCX нормативы. **Возможности**: метаданные (название/номер/дата/редакция/организация/область), парсинг структуры, выжимки с контекстом и ссылками. **Acceptance**: DOCX ≤ 30 сек; метаданные полные; выжимки со ссылками, контекст индексирован; артефакты совместимы с FR-NORMS-02.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-DAT-05,FR,Detect PDF source type (mc_pdf vs scan_pdf) and route to format-specific pipeline,Detect PDF source type (mc_pdf vs scan_pdf) and route to format-specific pipeline.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-OCR-06,FR,Ветвление пайплайна PDF,"**Контекст**: mc_pdf/scan_pdf/mixed_pdf. **Возможности**: определение типа по текстовому слою/качеству, маршрутизация в FR-OCR-01A/01B/комбо, логирование выбора и предобработки. **Acceptance**: тип определяется корректно; классификация ≤3 сек; routeDecision.json фиксирует тип/уверенность/пайплайн/предобработку.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,"UC-04, UC-14"
FR-NORM-06,FR,Экспорт выжимок в PDF со ссылками,"**Контекст**: экспорт выдержек. **Возможности**: PDF с шапкой/выжимками/ссылками/библиографией, точные ссылки (пункт/страница/редакция/дата), поддержка приложений. **Acceptance**: PDF ≤ 10 сек; структура сохранена; ссылки точны; интеграция с FR-NORM-05.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,"UC-06, UC-16"
FR-DAT-06,FR,Parse DWG title blocks and extract table-like content from text layers/blocks,Parse DWG title blocks and extract table-like content from text layers/blocks.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-DAT-07,FR,Parse Estimates (ARP/GSFX/XML/XLS) to a unified Estimate model; validate totals/units; bind to RD cipher,Parse Estimates (ARP/GSFX/XML/XLS) to a unified Estimate model; validate totals/units; bind to RD cipher.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
FR-DAT-08,FR,Persist header stamp fields into `DocumentMetadata,Persist header stamp fields into `DocumentMetadata.titleBlock` with per-field confidence and audit log.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 1. Введение → 1.1 Цель документа,-
UC-01,UC,Обучение системы на документах,"Учитель загружает проверенные документы для обучения системы
Main: Загрузка документа → анализ содержимого → извлечение знаний → сохранение в базе знаний → валидация обучения",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),"BR-001 ↔ SRS FR‑LEARN‑01..04, metrics.md"
UC-02,UC,Обработка текстовых запросов,"Пользователь делает текстовый запрос и получает структурированный ответ
Main: Ввод текстового запроса → анализ запроса → поиск в базе знаний → формирование ответа → вывод результата",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),"BR-002 ↔ SRS FR‑QUERY‑01..04, metrics.md"
UC-03,UC,Проектно-ориентированная работа,"Система работает с данными в контексте конкретных проектов
Main: Выбор проекта → запрос данных по проекту → извлечение данных → формирование отчета",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),"BR-003 ↔ SRS FR‑PROJECT‑01..04, metrics.md"
UC-04,UC,Извлечение данных из документов (OCR),"Система извлекает текст и данные из документов для обучения
Main: Определение типа документа (mc_pdf/scan_pdf) → (для scan_pdf: предобработка) → OCR обработка → извлечение текста и реквизитов штампа → структурирование данных",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),"BR-005 ↔ SRS FR‑OCR‑01..04, metrics.md"
UC-04a,UC,DWG Title Block and Table Extraction,"Извлечение реквизитов штампа и табличного содержания из DWG
Main: Извлечение текстовых слоёв → парсинг штампа (title, cipher, sheetNumber, documentName, sheetFormat, designStage, organization, documentDate, revisionNumber) → извлечение табличных блоков → структурирование",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
UC-04b,UC,Estimate Parsing (ARP/GSFX/XML/XLS),"Парсинг сметных документов в единую модель Estimate с валидацией
Main: Определение формата → парсинг разделов/позиций/формул → привязка к шифру РД → валидация totals/единиц → структурирование и экспорт в XLSX",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
UC-05,UC,Формирование отчетов в Excel,"Система создает структурированные отчеты в Excel по запросам
Main: Запрос отчета → извлечение данных → структурирование → выбор шаблона подразделения (ПТО/Сметный отдел) → форматирование → создание Excel файла",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),"BR-006 ↔ SRS FR‑EXCEL‑01..04, metrics.md"
UC-06,UC,Работа с нормативной базой (ГОСТы),"Система изучает и использует нормативные документы для валидации
Main: Загрузка ГОСТов → анализ нормативов → создание базы знаний → валидация данных",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),"BR-007 ↔ SRS FR‑NORMS‑01..04, metrics.md"
UC-11,UC,Поиск аналогов по проектам,"Пользователь ищет похожие проекты для извлечения данных
Main: Запрос ""где у нас есть козырьки"" → поиск в базе знаний → анализ похожих проектов → извлечение данных → формирование отчета",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
UC-12,UC,Извлечение ведомостей объемов работ,"Система извлекает ведомости объемов работ из чертежей по проекту
Main: Запрос ведомости по проекту → анализ чертежей → извлечение объемов → структурирование → создание Excel отчета",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
UC-13,UC,Формирование комплектов рабочей документации,"Система формирует полные комплекты документации по проекту
Main: Запрос комплекта документации → анализ проекта → сбор документов → формирование списка → создание отчета",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
UC-14,UC,Обработка спецификации анкерных блоков,"Автоматическое извлечение и структурирование данных из спецификации металлических конструкций
Main: Загрузка спецификации → OCR обработка → извлечение позиций → распознавание ГОСТов → структурирование → валидация масс",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
UC-15,UC,Обработка архитектурно-строительных чертежей,"Извлечение данных из архитектурно-строительных чертежей (АР)
Main: Загрузка чертежей → OCR обработка → извлечение размеров → распознавание обозначений → анализ спецификаций",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
UC-16,UC,Работа с нормативными документами,"Система изучает и использует ГОСТы для валидации данных
Main: Загрузка ГОСТов → анализ нормативов → создание базы знаний → валидация данных → поиск по нормативам",use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Трассировка BR ↔ UC → Термины и сокращения (кратко),-
FR-EXCEL-01,FR,Структурированные Excel-отчеты по запросам,"**Контекст**: сводные/детальные/сравнительные/бюджетные отчёты из артефактов проекта. **Возможности**: автозаполнение шапки projectName/rdCipher/designStage; типовые структуры 8/20/27 столбцов; многолистовые книги с перекрестными ссылками. **Acceptance**: контрольные отчёты формируются ≤ 30 сек, структура листов корректна; ссылки/формулы работают; шапка и итоги соответствуют шаблонам и готовы к валидации FR-EXCEL-TPL-*.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,UC-21.1
FR-PROJECT-01,FR,Привязка данных к проектам,"**Контекст**: projectId/projectName/designStage/rdCipher. **Возможности**: хранение метаданных и связывание артефактов, ACL по проектам, автозаполнение контекста. **Acceptance**: все данные с projectId/rdCipher; ACL соблюдён; артефакты содержат метаданные по схеме.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.3 Проектно-ориентированная работа,FR-EXCEL-08
FR-TABLE-01,FR,Извлечение табличных спецификаций с ценами,"Компактное описание: извлекает таблицы материалов, оборудования и работ из PDF/DWG, парсит единицы, количества и цены, сохраняет координаты и метрики качества. Обучение: запоминает шаблоны таблиц и источники цен по проектам. Acceptance: полнота ≥95%, заполненность ценовых полей ≥90%, JSON/CSV с confidence ≥0.8.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.11 Табличные данные и формулы (PDF/DWG),FR-EXCEL-01
FR-TABLE-02,FR,Сохранение структуры таблиц,"Компактное описание: восстанавливает merged ячейки, заголовки и типы данных при извлечении, сохраняет структуру в tables.json. Acceptance: 100% объединений и hierarchy фиксируются, итоговые строки содержат formulaType, recreate XLSX проходит без потерь.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.11 Табличные данные и формулы (PDF/DWG),FR-TABLE-01
FR-TABLE-03,FR,Валидация обязательных полей таблиц,"Компактное описание: проверяет наличие ключевых колонок, типы данных и диапазоны, формирует отчет с уровнями критичности. Acceptance: пропуски обнаруживаются с recall=1.0, report.json хранит колонку/строку/уровень/suggestedFix, версия справочника фиксируется.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.11 Табличные данные и формулы (PDF/DWG),FR-TABLE-01
FR-TABLE-04,FR,Валидация согласованности итогов,"Компактное описание: пересчитывает суммы и сравнивает с итогами документа, классифицирует расхождения и сохраняет их в formulaValidation.json. Acceptance: расхождения >1% обнаруживаются с точностью ≥95%, отчет содержит ссылку на ячейку и fix, данные синхронизируются с FR-FORMULA-02.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.11 Табличные данные и формулы (PDF/DWG),FR-TABLE-01
FR-ESTIMATE-01,FR,Унифицированная модель данных для сметных документов,"**Новое требование**: Система должна предоставлять единую модель Estimate для представления сметных документов в структурированном виде независимо от исходного формата (ARP, GSFX, XML, XLS). Модель должна обеспечивать иерархию: разделы → позиции → ресурсы с полным набором атрибутов (наименование, единица измерения, количество, единичная цена, сумма) для каждого уровня. Обязательные поля: наименование, единица измерения, количество для позиций; код, наименование для разделов; наименование, номер для заголовка. Валидация: количество > 0, единичная цена ≥ 0, сумма = количество × единичная цена, соответствие единиц измерения справочнику. Обработка ошибок с уровнями критичности и формированием отчетов о проблемных полях.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.12 Сметы (Estimate) и обмен форматами,BR-016
FR-ESTIMATE-03,FR,Валидация итогов и обязательных полей Estimate,Сверяет смету с эталонным шаблоном, формирует отчёт с уровнями критичности и рекомендациями.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.12 Сметы (Estimate) и обмен форматами
FR-ESTIMATE-04,FR,Round-trip обмен сметными форматами,Импорт ARP/GSFX/XML/XLS в модель Estimate и экспорт без потерь структуры и формул; warning-отчёт по частично поддержанным элементам.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.12 Сметы (Estimate) и обмен форматами,BR-016
FR-ESTIMATE-05,FR,Перенос и проверка формул при импорте,Переносит формулы ARP/GSFX/XML/XLS в Estimate, проверяет ссылки; ошибки помечает Broken и требует ручной правки.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.12 Сметы (Estimate) и обмен форматами
FR-ESTIMATE-06,FR,Привязка Estimate к шифру РД,Наследует projectId/rdCipher, блокирует расхождения и помечает внешние ссылки как External до согласования.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.12 Сметы (Estimate) и обмен форматами
FR-ESTIMATE-02,FR,Привязка позиций Estimate к нормам,Полуавтоматический подбор до трёх норм GESN/FER/ТСН с предложением коэффициентов. Пользователь подтверждает или вводит вручную, решения логируются в artefact estimate.json.,technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.12 Сметы (Estimate) и обмен форматами
FR-EXCEL-08,FR,Бюджетирование с ценовыми полями,"**Контекст**: финансовые отчёты с ценами/валютой/датами. **Возможности**: отчёт на 27 столбцов, агрегаты и итоги, хранение источников цен/дат, валидация структуры и формул. **Acceptance**: ценовые поля заполнены в ≥ 0.9 записей; итоги и формулы корректны, расхождения в validationReport.json; отчёт формируется ≤ 30 сек, метаданные цен сохранены.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,FR-TABLE-01
FR-LEARN-01,FR,Загрузка проверенных документов учителем системы,"**Обновлено на основе чата с заказчиком**: Добавлены конкретные инструкции для системы по каждой прикладной задаче. Задача 1.1 'Сводная спецификация' (8 столбцов), Задача 1.2 'Унификация спецификации' (20 столбцов), Задача 1.3 'Бюджетирование проекта' (27 столбцов). Поддержка итерационных трансформаций документов.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.1 Обучение системы на документах,UC-21.1
FR-LEARN-02,FR,Обработка документов и извлечение знаний,"Компактное описание: выполняет выбранные задачи pipeline, формирует артефакты fullText/tables/estimate и ведет processing log. Обучение: использует ответы учителя для повторной обработки. Acceptance: артефакты создаются для контрольного пакета, цикл уточнений запускается при confidence<0.8, лог содержит requestId и коды шагов.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.1 Обучение системы на документах,UC-21.1
UC-21.1,UC,Создание сводной спецификации материалов и оборудования,**Новый UC на основе живых юз кейсов**: Система создает базовую спецификацию из PDF документа с группировкой по категориям. Основной сценарий: Извлечение штампа → поиск таблиц спецификаций → распознавание заголовков → извлечение данных по строкам → классификация по категориям → создание Excel с 8 столбцами.,use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Дополнительные Use Cases на основе живых юз кейсов (итерационные трансформации),FR-EXCEL-01
UC-21.2,UC,Унификация спецификации с проектной информацией,**Новый UC на основе живых юз кейсов**: Система обогащает базовую спецификацию проектной информацией и стандартизирует позиции. Основной сценарий: Получение результата UC-21.1 → добавление проектных метаданных → стандартизация наименований → унификация единиц → добавление технических характеристик → создание Excel с 20 столбцами.,use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Дополнительные Use Cases на основе живых юз кейсов (итерационные трансформации),FR-EXCEL-01
UC-21.3,UC,Бюджетирование проекта с ценовой информацией,**Новый UC на основе живых юз кейсов**: Система создает финансовый отчет проекта с ценовой информацией и договорами поставщиков. Основной сценарий: Получение результата UC-21.2 → интеграция ценовой информации → привязка цен к позициям → расчет стоимости → добавление договорных условий → формирование итоговых сумм → создание Excel с 27 столбцами.,use-cases.md,use-cases.md → Use Cases - Проект AI GOST → Дополнительные Use Cases на основе живых юз кейсов (итерационные трансформации),FR-EXCEL-01
FR-FORMULA-01,FR,Детектирование и проверка формул,"Компактное описание: детектирует формулы в спецификациях, сметах и отчетах, проверяет синтаксис, ссылки и числовой результат, логирует источник и метаданные. Обучение: накапливает шаблоны и правила по типам проектов. Acceptance: покрытие ≥95%, проверка ≤5 сек/док, formulas.json с confidence ≥0.8.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.11 Табличные данные и формулы (PDF/DWG),BR-015
FR-FORMULA-02,FR,Отчет о расхождениях расчетов и итогов,"Компактное описание: сравнивает пересчитанные итоги с извлеченными значениями, классифицирует расхождения и формирует отчет с рекомендациями. Обучение: накапливает правила устранения и частые ошибки проектов. Acceptance: точность ≥95% при пороге 2%, отчет со ссылками сохраняется в formulaValidation.json.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.11 Табличные данные и формулы (PDF/DWG),BR-015
FR-EXCEL-06,FR,Многолистовые книги с умными связями,"**Контекст**: многолистовые книги для спецификаций и смет. **Возможности**: создание типовых/проектных листов по пресетам, автоматические ссылки и именованные диапазоны, адаптация структуры. **Обучаемость**: workbookStructure.json по типам проектов. **Acceptance**: книга по сценариям 1.1–1.3 создаётся ≤ 30 сек; ссылки и формулы валидны; workbookStructure.json фиксирует projectType, связи, дату.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,BR-018
FR-EXCEL-07,FR,Автозаполнение шапки Excel из контекста проекта,"**Контекст**: автозаполнение шапки из контекста проекта. **Возможности**: заполнение projectName/rdCipher/designStage, фиксация source/confidence/timestamp, проверка обязательных столбцов. **Acceptance**: контрольный отчёт заполняется ≤ 5 сек; шаблон на 27 столбцов проходит FR-EXCEL-TPL-02..04; метаданные в reportMetadata.json сохранены.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,FR-PROJECT-01
FR-EXCEL-TPL-01,FR,Реестр шаблонов Excel с обучением,"**Контекст**: управление шаблонами отчетов. **Возможности**: версии/владельцы/статусы/область применения, аудит изменений и доступа, рекомендации по обновлению структуры. **Acceptance**: CRUD возвращает templateId/version/status/owner/learningMetadata; история хранит author/timestamp/diff JSON; рекомендации новой версии логируются при изменениях.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,FR-EXCEL-05
FR-EXCEL-TPL-02,FR,Проверка соответствия активному шаблону,"**Контекст**: валидация отчета перед передачей. **Возможности**: сверка листов/диапазонов/стилей, проверка формул/печати/защиты/макросов, сбор статистики ошибок. **Acceptance**: контрольный отчет валидируется ≤ 10 сек; validationReport.json содержит лист/правило/рекомендацию/уровень (Critical/Warning/Info); правила синхронизируются при обновлении шаблона.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,FR-EXCEL-TPL-01
FR-EXCEL-TPL-03,FR,Контроль типов данных и обязательных полей,"**Контекст**: проверка содержимого Excel. **Возможности**: валидация типов и обязательных столбцов по шаблону, диапазоны значений, автоисправления и статистика ошибок. **Acceptance**: fixSuggestions.json с пустыми/неверными полями (лист/ячейка/ожидаемый формат/рекомендация); подтвержденные исправления повышают confidence правил в learningMetadata.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,FR-EXCEL-TPL-01
FR-EXCEL-TPL-04,FR,Комплексный отчет о соответствии шаблону,"**Контекст**: сводный результат проверок. **Возможности**: агрегирует structure/data/formula/print, считает время/кол-во нарушений, формирует рекомендации и экспорт PDF/XLSX. **Acceptance**: consolidatedReport.json со статусами и советами; пересчет ≤ 5 сек для 10 МБ, логируются время/кол-во нарушений; summary.xlsx/.pdf доступны для выгрузки.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.5 Формирование отчетов в Excel,FR-EXCEL-TPL-02
FR-STAMP-01,FR,Извлечение полей штампа с обучением,"**Контекст**: PDF/DWG штампы РД с проектной адаптацией. **Возможности**: детект области, распознавание полей title/cipher/sheetNumber/documentName/sheetFormat/designStage/organization/documentDate/revisionNumber, проектные шаблоны/словари, интерактивное обучение, артефакт titleBlock.json с координатами и confidence. **Acceptance**: извлечение PDF/DWG ≤ 30 сек; все поля с координатами/confidence; шаблоны обновляются, titleBlock.json пригоден для FR-STAMP-02/03.",technical-requirements.md,technical-requirements.md → Software Requirements Specification (SRS) — Проект «AI GOST» → 3.3.10 Штамп рабочей документации (Title Block),BR-014

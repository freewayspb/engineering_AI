# Use Cases - Проект AI GOST
**Версия**: 0.4 (ядро прототипов)  
**Дата**: 01.10.2025  

---

## Трассировка BR ↔ UC

| BR (из BRD) | UC | Назначение | Примечание |
|---|---|---|---|
| BR-002 OCR | UC-01, UC-10 | Извлечение текста | Качество и скорость обработки
| BR-003 Структурирование | UC-02, UC-10 | Преобразование в структуры | Экспорт и валидация по схемам
| BR-005 Классификация | UC-03, UC-10 | Тематическая категоризация | Категории и метрики уверенности
| BR-006 DWG | UC-01, UC-09 | Извлечение данных DWG | Минимальный набор сущностей DWG
| BR-009 Сметы | UC-01, UC-09 | Извлечение данных смет | Минимальный набор полей смет

Примечание: термины и сокращения см. в глоссарии SRS — раздел «1.3 Термины и сокращения» (`documentation/requirements/srs.md`).

### Термины и сокращения (кратко)
- OCR — распознавание текста; CER/WER — ошибки по символам/словам
- macro‑F1 — усреднённая метрика качества классификации
- Валидность — % записей, прошедших JSON Schema без ошибок
- DWG/DXF — чертежи; ARP/GSFX — сметные форматы

---

## Таблица Use Cases (ядро)

**Формат**: ID | Название | Краткое описание | Акторы | Предусловия | Основной сценарий | Ожидаемый результат

---

### UC-01 | Извлечение текста из документов
**Краткое описание**: Система (без UI) принимает PDF/изображение/DWG/смету, извлекает текст/данные локально (офлайн)  
**Акторы**: Пользователь (оператор), OCR/парсинг  
**Предусловия**: Документ доступен; настроены локальные модели/парсеры  
**Основной сценарий**: Загрузка файла → автоопределение типа (PDF/изображение/DWG/смета) → запуск OCR/парсинга → извлечение текста/данных → запись артефактов  
**Ожидаемый результат**: Определён тип документа; получены текст/данные и сохранены артефакты для последующей обработки

- Acceptance: см. `documentation/requirements/metrics.md` (OCR: CER/WER, время/документ; DWG/Сметы: минимальные списки сущностей/полей)
- Traceability: BR-002, BR-006, BR-009 ↔ SRS FR‑OCR‑01..04, FR‑SPC‑01..03

---

### UC-02 | Структурирование извлеченных данных
**Краткое описание**: Система преобразует извлечённые данные в структурированный формат (JSON/CSV/XLSX) с валидацией по схемам  
**Акторы**: Оператор, Модуль структурирования  
**Предусловия**: Данные извлечены (UC-01)  
**Основной сценарий**: Нормализация полей → сопоставление типов → формирование таблиц/JSON → валидация по схемам → экспорт  
**Ожидаемый результат**: Структурированные данные, прошедшие валидацию, выгружены в целевые форматы

- Acceptance: см. `documentation/requirements/metrics.md` (валидность ≥ 99%, ошибки схемы)
- Traceability: BR-003 ↔ SRS FR‑STR‑01..04

---

### UC-03 | Тематическая классификация документов
**Краткое описание**: Система относит документы к согласованным тематикам с расчётом метрик уверенности  
**Акторы**: Оператор, NLP‑модуль  
**Предусловия**: Загружен набор документов; определён список категорий  
**Основной сценарий**: Анализ контента → применение модели → присвоение категорий → формирование отчёта (метки, уверенность)  
**Ожидаемый результат**: Документы помечены тематиками; доступен отчёт с метриками уверенности

- Acceptance: см. `documentation/requirements/metrics.md` (macro‑F1, coverage; согласованный набор категорий)
- Traceability: BR-005 ↔ SRS FR‑NLP‑01..04

---

### UC-09 | Обработка специализированных форматов
**Краткое описание**: Извлечение минимально необходимого набора данных из DWG и смет ARP/GSFX  
**Акторы**: Оператор, Модуль DWG/смет  
**Предусловия**: Загружены файлы DWG/ARP/GSFX; модули активны  
**Основной сценарий**: Определение формата → извлечение целевых полей (DWG: слои/объекты/атрибуты; сметы: позиции/единицы/кол‑во/цены/суммы) → структурирование  
**Ожидаемый результат**: Извлечённые данные DWG/смет в структурированном виде

- Acceptance: см. `documentation/requirements/metrics.md` (минимальные списки DWG сущностей и сметных полей)
- Traceability: BR-006, BR-009 ↔ SRS FR‑SPC‑01..03

---

### UC-10 | Валидация и тестирование прототипов
**Краткое описание**: Команда тестирует прототипы на данных заказчика, сверяя метрики и артефакты  
**Акторы**: Команда проекта, Представители заказчика  
**Предусловия**: Прототипы готовы; предоставлены тестовые данные  
**Основной сценарий**: Подготовка тест‑кейсов → запуск тестов → анализ результатов → документирование выводов → презентация  
**Ожидаемый результат**: Результаты тестирования с метриками и артефактами, согласованные с заказчиком

- Acceptance: см. `documentation/requirements/metrics.md` (все целевые метрики по прототипам; поля Status/Reason/Recommendation/Decision для POC)
- Traceability: все BR (сквозная валидация)

---

Примечание: фасилитационные процессы (ИБ‑анализ, согласование архитектуры, подготовка ТЗ, исследование рынка) ведутся по `documentation/project-management/work-plan.md` и не рассматриваются как прототипные Use Cases.

---

## Для копирования в Excel/Google Sheets:
(обновить при необходимости по таблице выше)

---

[TBD_Discuss] Уточнить спецификации смет ARP/GSFX (минимальный набор полей)

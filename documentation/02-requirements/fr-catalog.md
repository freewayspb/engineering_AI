# Каталог функциональных требований (FR)

Ниже приведен развернутый иерархический список FR из `technical-requirements.md` для ведения учёта и статусов.

- 3.3.1 Обучение системы на документах
  - FR-LEARN-01: Загрузка проверенных документов учителем системы
  - FR-LEARN-02: Обработка документов и извлечение знаний
  - FR-LEARN-03: Версионирование знаний и управление выпусками
  - FR-LEARN-04: Контроль качества знаний перед публикацией

- 3.3.2 Обработка текстовых запросов
  - FR-QUERY-01: Прием текстовых запросов (ACL User, фильтры, sanitize, requestId)
  - FR-QUERY-02: Анализ запросов и понимание контекста проектов
  - FR-QUERY-03: Поиск релевантной информации в базе знаний
  - FR-QUERY-04: Формирование структурированных ответов на запросы

- 3.3.3 Проектно-ориентированная работа
  - FR-PROJECT-01: Привязка всех данных к конкретным проектам
  - FR-PROJECT-02: Поиск аналогов по проектам
  - FR-PROJECT-03: Извлечение данных в контексте проектов
  - FR-PROJECT-04: Формирование отчетов по проектам
  - FR-PROJECT-05: Управление жизненным циклом проекта
  - FR-PROJECT-06: Сравнительный анализ проектов
  - FR-PROJECT-07: Шаблоны проектов

- 3.3.4 Извлечение данных из документов (OCR)
  - FR-OCR-01A: Обработка машиночитаемых PDF документов
  - FR-OCR-01B: OCR сканированных PDF
  - FR-OCR-01C: Обработка изображений (JPG, PNG, TIFF)
  - FR-OCR-02: Улучшенная обработка сложных сканов
  - FR-OCR-03: Поддержка русского языка в документах
  - FR-OCR-04: Структурирование извлеченных данных для базы знаний
  - FR-OCR-05: Парсинг штампов документов (titleBlock)
  - FR-OCR-06: Ветвление пайплайна обработки PDF по типам

- 3.3.5 Формирование отчетов в Excel
  - FR-EXCEL-01: Создание структурированных отчетов в Excel
  - FR-EXCEL-02: Форматирование таблиц и диаграмм
  - FR-EXCEL-03: Экспорт данных в Excel
  - FR-EXCEL-04: Валидация корректности Excel отчетов
  - FR-EXCEL-05: Генерация отчетов по подразделениям (ПТО и сметный отдел)
  - FR-EXCEL-06: Многолистовые Excel-книги с умными связями
  - FR-EXCEL-07: Автозаполнение заголовков Excel из контекста проекта
  - FR-EXCEL-08: Бюджетирование проектов с ценовой информацией
  - FR-EXCEL-TPL-01: Реестр шаблонов Excel с обучением
  - FR-EXCEL-TPL-02: Проверка соответствия активному шаблону
  - FR-EXCEL-TPL-03: Контроль типов данных и обязательных полей
  - FR-EXCEL-TPL-04: Комплексный отчет о соответствии шаблону

- 3.3.6 Работа с нормативной базой (ГОСТы)
  - FR-NORMS-01: Загрузка и изучение нормативных документов (ГОСТы)
  - FR-NORMS-02: Создание базы знаний по нормативам
  - FR-NORMS-03: Валидация данных по нормативным требованиям
  - FR-NORMS-04: Поиск по нормативной базе
  - FR-NORM-05: Парсинг метаданных DOCX нормативных документов и выжимки по запросу
  - FR-NORM-06: Экспорт выжимок в PDF со ссылками на источник
  - FR-NORM-07: Версионирование и политика актуализации нормативных документов
  - FR-NORM-08: Хранение извлеченных требований как структурированных правил
  - FR-NORM-09: Генерация отчетов о несоответствиях с точными ссылками на пункты

- 3.3.7 Управление данными и метаданными
  - FR-DAT-01: Автоопределение типа документа
  - FR-DAT-02: Хранение метаданных (имя, MIME, язык, страницы, дата, проект)
  - FR-DAT-03: Логирование шагов обработки/обучения (pipeline)
  - FR-DAT-04: Версионирование результатов обучения и базы знаний
  - FR-DAT-05: Детекция типа PDF источника и маршрутизация в специализированный пайплайн
  - FR-DAT-06: Парсинг штампов DWG и извлечение табличного контента из текстовых слоев/блоков
  - FR-DAT-07: Парсинг смет (ARP/GSFX/XML/XLS) в единую модель Estimate с валидацией итогов/единиц и привязкой к шифру РД
  - FR-DAT-08: Сохранение полей штампа заголовка в DocumentMetadata.titleBlock с уверенностью по полям и аудит-логом
  - FR-LOG-01: Единый формат лога обработки
  - FR-LOG-02: Сохранение артефактов обработки в предсказуемой структуре каталогов
  - FR-ART-01: Формирование набора артефактов для демонстраций с ссылками для воспроизводимости

- 3.3.8 Управление доступом и ролевая модель
  - FR-ACCESS-01: Ролевое управление доступом
  - FR-ACCESS-02: Контроль доступа Teacher к обучению
  - FR-ACCESS-03: Контроль запросов пользователей
  - FR-ACCESS-04: Аудит действий Teacher/User
  - FR-ACCESS-05: Ручное управление правами администратора

- 3.3.9 Управление знаниями и обновлениями
  - FR-KNOW-01: Переносимый контекст обучения по проектам
  - FR-KNOW-02: Процедура миграции и отката знаний
  - FR-KNOW-03: Ручная проверка обновлений нормативной базы
  - FR-KNOW-04: Логирование обновлений нормативных данных
  - FR-KNOW-05: Двусторонний API для внешних систем

- 3.3.10 Штамп рабочей документации (Title Block)
  - FR-STAMP-01: Извлечение полей штампа документа с интеллектуальным обучением и адаптацией к проектной специфике
  - FR-STAMP-02: Сохранение уверенности по полям и происхождения в аудит-логе
  - FR-STAMP-03: Валидация полноты и форматов полей штампа документа

- 3.3.11 Табличные данные и формулы (PDF/DWG)
  - FR-TABLE-01: Извлечение табличных спецификаций с ценами
  - FR-TABLE-02: Сохранение структуры таблиц при извлечении данных
  - FR-TABLE-03: Валидация обязательных полей таблиц
  - FR-TABLE-04: Валидация согласованности итогов
  - FR-FORMULA-01: Детектирование и проверка формул
  - FR-FORMULA-02: Отчет о расхождениях расчетов и итогов

- 3.3.12 Сметы (Estimate) и обмен форматами
  - FR-ESTIMATE-01: Унифицированная модель данных для сметных документов (разделы→позиции→ресурсы)
  - FR-ESTIMATE-02: Привязка позиций Estimate к нормам
  - FR-ESTIMATE-03: Валидация итогов и обязательных полей Estimate
  - FR-ESTIMATE-04: Round-trip обмен сметными форматами
  - FR-ESTIMATE-05: Перенос и проверка формул при импорте
  - FR-ESTIMATE-06: Привязка Estimate к шифру РД

---

Примечание: при изменениях SRS просьба синхронизировать этот каталог и фиксировать статусы в `requirements-review-log.md`. 
